<br/>
<div samba-access>

    <div class="alert alert-warning">This plugin is actually under heavy development and only published for tests purpose.</div>

    <div class="input-group" style="width:100%">
        <input ng:model="filter" type="search" autofocus class="form-control" placeholder="Filter" />
    </div>

    <br />

    <progress-spinner ng:show="loading"></progress-spinner>

    <!-- Room -->
    <div class="list-group">
        <h3>
            <i class="fas fa-desktop"></i>
            <span translate>This Room</span>
        </h3>

        <div class="alert alert-info" ng:show="room.usersList.length == 0 && !loading">
            <span translate>
                Currenty it's not possible to determine your room, are you logged on a school computer ?
            </span>
        </div>
        <div class="flex-container lmn-container-list" ng:show="room.usersList.length > 0">
            <div class="list-group-item">
                <div>
                    <span style="float:right;width:50%;">
                        <div class="session_container">
                            <a href="#">
                                <span style="overflow:hidden;width:100%;">
                                    {{room.name}}
                                </span>
                            </a>
                            <div class="session_hr"></div>
                            <br />
                            <i class="fa fa-users"></i>
                            <span>{{room.usersList.length}}</span>
                            <br />
                        </div>
                    </span>
                    <span style="float:left;width:50%">
                        <div class="session_image session_image_room" ng:click="startGenerated('this_room')" title="{{generateRoomSessionMouseover}}">
                            <span class="fas fa-history session_image_btn"></span>
                        </div>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <hr />

    <!-- schoolclasses -->
    <div ng:show="schoolclasses.length > 0"  class="list-group">
        <h3>
            <i class="fas fa-users"></i>
            <span translate>My Classes</span>
        </h3>

        <div class="flex-container lmn-container-list" >
            <div class="list-group-item" ng:repeat="schoolclass in schoolclasses|filter:filter | orderBy: 'cn' :false" style="margin-bottom:10px;">
                <div>
                    <span style="float:right;width:50%;">
                        <div class="session_container">
                            <a href="#">
                                <span style="overflow:hidden;width:100%;">
                                    {{schoolclass.name}}
                                </span>
                            </a>
                            <div class="session_hr"></div>
                            <br />
                            <i class="fa fa-users"></i>
                            <span>{{schoolclass.membersCount}}</span>
                            <br />
                        </div>
                    </span>
                    <span style="float:left;width:50%">
                        <div class="session_image session_image_classes" ng:click="startGenerated(schoolclass)" title="{{startSchoolclassSessionMouseover}}">
                            <span class="fas fa-history session_image_btn"></span>
                        </div>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <hr />

    <!-- session overview list -->
    <div ng:show="sessions.length > 0"  class="list-group">
        <h3>
            <i class="far fa-list-alt"></i>
            <span translate>My groups</span>
        </h3>

        <div class="flex-container lmn-container-list">
            <div class="list-group-item" ng:repeat="session in sessions|filter:filter | orderBy: '-name' :true | filter: '!-autoGenerated'" style="margin-bottom:10px;">
                <span style="float:left;width:50%">
                    <div class="session_image session_image_sessions" ng:click="start(session)" title="{{startGeneratedSessionMouseover}}">
                        <span class="btn btn-default fas fa-step-backward session_image_btn"></span>
                    </div>
                </span>
                <a ng:click="killSession(session)" class="btn btn-flat pull-right">
                    <i class="fa fa-trash"></i>
                </a>
                <a ng:click="renameSession(session)" class="btn btn-flat pull-right">
                    <i class="fa fa-pencil"></i>
                </a>
                <span style="clear:right;float:right;width:50%;">
                    <div class="session_container">
                        <span style="overflow:hidden;display:block;">{{session.name}}</span>
                        <div class="session_hr"></div>
                        <i class="fa fa-users"></i>
                        <span>{{session.membersCount}}</span>
                        <br>
                    </div>
                </span>
            </div>
        </div>

        <button class="btn btn-default" ng:click="newSession()">
            <i class="fa fa-plus"></i>
            <span translate>New group</span>
        </button>

        <hr />

        <!-- projects -->
        <div ng:show="projects.length > 0"  class="list-group">
            <h3>
                <i class="fas fa-users"></i>
                <span translate>My Projects</span>
            </h3>

            <div class="flex-container lmn-container-list" >
                <div class="list-group-item" ng:repeat="project in projects|filter:filter | orderBy: 'cn' :false" style="margin-bottom:10px;">
                    <div>
                    <span style="float:right;width:50%;">
                        <div class="session_container">
                            <a href="#">
                                <span style="overflow:hidden;width:100%;">
                                    {{project.name}}
                                </span>
                            </a>
                            <div class="session_hr"></div>
                            <br />
                            <i class="fa fa-users"></i>
                            <span>{{project.membersCount}}</span>
                            <br />
                        </div>
                    </span>
                        <span style="float:left;width:50%">
                        <div class="session_image session_image_classes" ng:click="startGenerated(project)" title="{{startSchoolclassSessionMouseover}}">
                            <span class="fas fa-history session_image_btn"></span>
                        </div>
                    </span>
                    </div>
                </div>
            </div>
        </div>

</div>
