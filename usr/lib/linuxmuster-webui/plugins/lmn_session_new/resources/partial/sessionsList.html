<br/>
<div samba-access>

    <div class="alert alert-warning">This plugin is actually under heavy development and only published for tests purpose.</div>

    <div class="input-group">
        <input ng:model="filter" type="search" autofocus class="form-control" placeholder="Filter"/>

        <div class="input-group-btn">
            <button class="btn btn-default" ng:click="newSession()">
                <i class="fa fa-plus"></i>
                <span translate>New Session</span>
            </button>
        </div>
    </div>

    <br />

    <progress-spinner ng:show="loading"></progress-spinner>

    <!-- Room -->
    <div class="list-group">
        <h4 translate>This Room</h4>

        <div class="alert alert-info" ng:show="room.usersList.length == 0 && !loading">
            <span translate>
                Currenty it's not possible to determine your room, are you logged on a school computer ?
            </span>
        </div>
        <div class="flex-container lmn-container-list" ng:show="room.usersList.length > 0">
            <div class="list-group-item">
                <div>
                    <span style="float:right;width:50%;">
                        <div class="session_container">
                            <a href="#">
                                <span style="overflow:hidden;width:100%;">
                                    {{room.name}}
                                </span>
                            </a>
                            <div class="session_hr"></div>
                            <br />
                            <i class="fa fa-users"></i>
                            <span>{{room.usersList.length}}</span>
                            <br />
                        </div>
                    </span>
                    <span style="float:left;width:50%">
                        <div class="session_image session_image_room" ng:click="startGenerated('this_room')" title="{{generateRoomsessionMouseover}}">
                            <span class="fas fa-history session_image_btn"></span>
                        </div>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- auto sessions -->
    <div ng:show="classes.length > 0"  class="list-group">
        <h4 translate>My Classes</h4>

        <div class="flex-container lmn-container-list" >
            <div class="list-group-item" ng:repeat="class in classes|filter:filter | orderBy: 'groupname' :false" style="margin-bottom:10px;">
                <div>
                    <span style="float:right;width:50%;">
                        <div class="session_container">
                            <a href="#">
                                <span style="overflow:hidden;width:100%;">
                                    {{class.groupname}}
                                </span>
                            </a>
                            <div class="session_hr"></div>
                            <br />
                            <i class="fa fa-users"></i>
                            <span>{{class.members.length}}</span>
                            <br />
                        </div>
                    </span>
                    <span style="float:left;width:50%">
                        <div class="session_image session_image_classes" ng:click="startGenerated(class.groupname)" title="{{generateSessionMouseover}}">
                            <span class="fas fa-history session_image_btn"></span>
                        </div>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- session overview list -->
    <div ng:show="sessions.length > 0"  class="list-group">
        <h4 translate>My Sessions </h4>

        <div class="flex-container lmn-container-list">
            <div class="list-group-item" ng:repeat="session in sessions|filter:filter | orderBy: '-COMMENT' :true | filter: '!-autoGenerated'" style="margin-bottom:10px;">
                <span style="float:left;width:50%">
                    <div class="session_image session_image_sessions" ng:click="start(session)" title="{{startGeneratedSessionMouseover}}">
                        <span class="btn btn-default fas fa-step-backward session_image_btn"></span>
                    </div>
                </span>
                <a ng:click="killSession(session)" class="btn btn-flat pull-right">
                    <i class="fa fa-trash"></i>
                </a>
                <a ng:click="renameSession(session)" class="btn btn-flat pull-right">
                    <i class="fa fa-pencil"></i>
                </a>
                <span style="clear:right;float:right;width:50%;">
                    <div class="session_container">
                        <span style="overflow:hidden;display:block;">{{session.COMMENT}}</span>
                        <div class="session_hr"></div>
                        <i class="fa fa-users"></i>
                        <span>{{session.PARTICIPANT_COUNT}}</span>
                        <br>
                    </div>
                </span>
            </div>
        </div>
</div>
