<br/>

<progress-spinner ng:show="settings == null"></progress-spinner>

<div ng:show="settings != null">
    <uib:tabset active=activetab>

    <uib:tab heading="{{'General'|translate}}">
        <br/>

        <h3 translate>General</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>Schoolname</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.SCHOOL_LONGNAME" />
                </td>
            </tr>
        </table>

        <h3 translate>Email Domain</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>Role Students</label>
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="{{'e.g.: linuxmuster.net'|translate}}" ng:model="settings['role.student']['MAILDOMAIN']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Role Teachers</label>
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="{{'e.g.: linuxmuster.net'|translate}}" ng:model="settings['role.teacher']['MAILDOMAIN']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Primary Group Adminclass</label>
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="{{'e.g.: linuxmuster.net'|translate}}" ng:model="settings['type.adminclass']['MAILDOMAIN']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Primary Group Teacherclass</label>
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="{{'e.g.: linuxmuster.net'|translate}}" ng:model="settings['type.teacherclass']['MAILDOMAIN']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Primary Group Project</label>
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="{{'e.g.: linuxmuster.net'|translate}}" ng:model="settings['type.project']['MAILDOMAIN']" />
                </td>
            </tr>
        </table>
        <h3 translate>Printserver </h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>Printserver</label>
                </td>
                <td>
                    <input type="text" class="form-control" placeholder="{{'default: server'|translate}}" ng:model="settings.school.PRINTSERVER" />
                </td>
            </tr>
        </table>

    </uib:tab>

    <uib:tab heading="{{'Listimport'|translate}}">
        <br/>
        <h3 translate>Username and Passwords</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <th width="40%"></th>
                <th translate class="text-center">Students</th>
                <th translate class="text-center">Teachers</th>
                <th translate class="text-center">extrastudents</th>
            </tr>
            <tr>
                <td>
                    <label translate>Reverse Surname and Firstname in username</label>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.students.csv']['SURNAME_FIRSTNAME_REVERSE']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.teachers.csv']['SURNAME_FIRSTNAME_REVERSE']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.extrastudents.csv']['SURNAME_FIRSTNAME_REVERSE']"></span>
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Surname Characters</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.students.csv']['SURNAME_CHARS']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.teachers.csv']['SURNAME_CHARS']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.extrastudents.csv']['SURNAME_CHARS']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Firstname Chars</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.students.csv']['FIRSTNAME_CHARS']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.teachers.csv']['FIRSTNAME_CHARS']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.extrastudents.csv']['FIRSTNAME_CHARS']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Password Length</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.students.csv']['PWD_LENGTH']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.teachers.csv']['PWD_LENGTH']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.extrastudents.csv']['PWD_LENGTH']" />
                </td>
            </tr>
            <tr ng:show="settings.lehrer_zufall_passwort || settings.schueler_zufall_passwort" >
                <td>
                    <label translate>Password length</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.students.csv']['PWD_LENGTH']"  />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.teachers.csv']['PWD_LENGTH']" ng:show="settings.schueler_zufall_passwort" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.extrastudents.csv']['PWD_LENGTH']" ng:show="settings.schueler_zufall_passwort" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Random password</label>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.students.csv']['RANDOM_PWD']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.teachers.csv']['RANDOM_PWD']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.extrastudents.csv']['RANDOM_PWD']"></span>
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Tolerance after departure (days)</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.students.csv']['TOLERATION_TIME']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.teachers.csv']['TOLERATION_TIME']">
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.extrastudents.csv']['TOLERATION_TIME']">
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Removal after departure (days)</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.students.csv']['DEACTIVATION_TIME']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.teachers.csv']['DEACTIVATION_TIME']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['userfile.extrastudents.csv']['DEACTIVATION_TIME']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Replace slash(/) in classname by hypen(-)</label>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="settings['userfile.students.csv']['CLASSNAME_SLASH_TO_HYPHEN']"></span>
                </td>
                <td>
                </td>
                <td>
                </td>
            </tr>
        </table>

        <h3 translate>Encoding</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <th width="40%"></th>
                <th translate class="text-center">students.csv encoding</th>
                <th translate class="text-center">teachers.csv encoding</th>
                <th translate class="text-center">extrastudents.csv encoding</th>
                <!--<th translate>extraclasses.csv encoding</th>-->
            </tr>
            <tr>
                <td>
                    <label translate>List encoding</label>
                </td>
                <td>
                    <select class="form-control" ng:model="settings['userfile.students.csv']['ENCODING']" ng:options="x for x in encodings" />
                        <div ng:show="settings['userfile.students.csv']['ENCODING'] == 'auto'" >
                </td>
                <td>
                    <select class="form-control" ng:model="settings['userfile.teachers.csv']['ENCODING']" ng:options="x for x in encodings" />
                        <div ng:show="settings['userfile.teachers.csv']['ENCODING'] == 'auto'" >
                </td>
                <td>
                    <select class="form-control" ng:model="settings['userfile.extrastudents.csv']['ENCODING']" ng:options="x for x in encodings" />
                        <div ng:show="settings['userfile.extrastudents.csv']['ENCODING'] == 'auto'" >
                </td>
                <!--<td>
                    <select class="form-control" ng:model="settings['userfile.extraclasses.csv']['encoding']" ng:options="x for x in encodings" />
                        <div ng:show="settings['userfile.extraclasses.csv']['encoding'] == 'auto'" >
                </td>-->
            </tr>
            <tr>
                <td>
                    <label translate>Detected encoding</label>
                </td>
                <td class="text-center">
                    {{encoding['userfile.students.csv']}}
                </td>
                <td class="text-center">
                    {{encoding['userfile.teachers.csv']}}
                </td>
                <td class="text-center">
                    {{encoding['userfile.extrastudents.csv']}}
                </td>
                <!--<td>
                    {{encoding['userfile.extraclasses.csv']}}
                </td>-->
            </tr>
        </table>

        <h3 translate>Customs filters</h3>

        <div class="alert alert-info" translate>It's possible to apply a filter script to your newly exported csv file. You must give here the absolute path of the script and the script must be executable.<br />Please read the full documentation in <a href="https://github.com/linuxmuster/sophomorix4/wiki/Export-and-Filters#filters">sophomorix's wiki</a> about it.</div>
        <table class="lm-table lm-table-padded">
            <tr>
                <th width="40%"></th>
                <th translate class="text-center">students.csv</th>
                <th translate class="text-center">teachers.csv</th>
                <th translate class="text-center">extrastudents.csv</th>
                <!--<th translate>extraclasses.csv encoding</th>-->
            </tr>
            <tr>
                <td>
                    <label translate>Path to filter script</label>
                </td>
                <td class="text-center">
                    <input type="text" class="form-control" ng:model="settings['userfile.students.csv']['FILTERSCRIPT']" ng:blur="filterscriptNotEmpty()">
                </td>
                <td class="text-center">
                    <input type="text" class="form-control" ng:model="settings['userfile.teachers.csv']['FILTERSCRIPT']" ng:blur="filterscriptNotEmpty()">
                </td>
                <td class="text-center">
                    <input type="text" class="form-control" ng:model="settings['userfile.extrastudents.csv']['FILTERSCRIPT']" ng:blur="filterscriptNotEmpty()">
                </td>
            </tr>
        </table>

    </uib:tab>

    <uib:tab heading="{{'Quota'|translate}}">
        <br/>
        <h3 translate>Quota </h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <th width="40%"></th>
                <th translate>Students</th>
                <th translate>Teachers</th>
                <th translate>Schooladministrator</th>
            </tr>
            <tr>
                <td>
                    <label translate>Quota Default Global in MiB</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.student']['QUOTA_DEFAULT_GLOBAL']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.teacher']['QUOTA_DEFAULT_GLOBAL']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.schooladministrator']['QUOTA_DEFAULT_GLOBAL']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Quota Default School in MiB</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.student']['QUOTA_DEFAULT_SCHOOL']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.teacher']['QUOTA_DEFAULT_SCHOOL']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.schooladministrator']['QUOTA_DEFAULT_SCHOOL']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Cloudquota Percentage</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.student']['CLOUDQUOTA_PERCENTAGE']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.teacher']['CLOUDQUOTA_PERCENTAGE']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.schooladministrator']['CLOUDQUOTA_PERCENTAGE']" />
                </td>
            </tr>
            <tr>
                <td>
                    <label translate>Mailquota Default in MiB</label>
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.student']['MAILQUOTA_DEFAULT']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.teacher']['MAILQUOTA_DEFAULT']" />
                </td>
                <td>
                    <input type="number" class="form-control" ng:model="settings['role.schooladministrator']['MAILQUOTA_DEFAULT']" />
                </td>
            </tr>
        </table>
    </uib:tab>

    <uib:tab heading="{{'Printing data'|translate}}" ng:click="load_custom_config()">
        <br />
        <h3 translate>Password printing data</h3>

        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>School name</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.SCHOOL_LONGNAME" disabled />
                </td>
            </tr>
            <tr>
                <td width=25%>
                    <label translate>Admin description</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.ADMINS_PRINT" />
                </td>
            </tr>
        </table>

        <h3 translate>School landing page</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>URL</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLSTART_PRINT" />
                </td>
            </tr>
            <tr>
                <td width=25%>
                    <label translate>Comment</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLSTART_COMMENT_PRINT" />
                </td>
            </tr>
        </table>

        <h3 translate>Webui</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>URL</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLSCHUKO_PRINT" />
                </td>
            </tr>
            <tr>
                <td width=25%>
                    <label translate>Comment</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLSCHUKO_COMMENT_PRINT" />
                </td>
            </tr>
        </table>

        <h3 translate>Moodle</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>URL</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLMOODLE_PRINT" />
                </td>
            </tr>
            <tr>
                <td width=25%>
                    <label translate>Comment</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLMOODLE_COMMENT_PRINT" />
                </td>
            </tr>
        </table>

        <h3 translate>Webmail</h3>
        <table class="lm-table lm-table-padded">
            <tr>
                <td width=25%>
                    <label translate>URL</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLMAIL_PRINT" />
                </td>
            </tr>
            <tr>
                <td width=25%>
                    <label translate>Comment</label>
                </td>
                <td>
                    <input type="text" class="form-control" ng:model="settings.school.URLMAIL_COMMENT_PRINT" />
                </td>
            </tr>
<!--            <tr>-->
<!--                <td>-->
<!--                    <label translate>Internal FQDN for printing</label>-->
<!--                <td>-->
<!--                    <input type="text" class="form-control" ng:model="settings.server_fqdn_internal_print" disabled />-->
<!--                </td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>-->
<!--                    <label translate>External FQDN for printing</label>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <input type="text" class="form-control" ng:model="settings.server_fqdn_external_print" disabled />-->
<!--                </td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>-->
<!--                    <label translate>Samba domain for printing</label>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <input type="text" class="form-control" ng:model="settings.smb_domain_print" disabled />-->
<!--                </td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>-->
<!--                    <label translate>MOODLE URL</label>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <input type="text" class="form-control" ng:model="settings.moodle_url" disabled />-->
<!--                </td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>-->
<!--                    <label translate>Admin e-mail</label>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <input type="text" class="form-control" ng:model="settings.admins_print" disabled />-->
<!--                </td>-->
<!--            </tr>-->
        </table>

        <h3 translate>Latex templates</h3>
        <p class="alert alert-info" translate>If you want to use your own latex template, please store it in the directory /etc/linuxmuster/sophomorix/SCHOOL/latex-templates/. More informations about it <a href="https://github.com/linuxmuster/sophomorix4/blob/bionic/sophomorix-samba/lang/latex/README.latextemplates">in sophomorix's wiki</a>.</p>

        <table class="table">
            <tr>
                <td translate><b>Template for multiple passwords entries on one page:</b></td>
                <td>
                    <select class="form-control" ng:model="templates.multiple" ng:options="t.filename for t in templates_multiple"></select>
                </td>
            </tr>
            <tr>
                <td translate><b>Template for one password entry per page:</b></td>
                <td>
                    <select class="form-control" ng:model="templates.individual" ng:options="t.filename for t in templates_individual"></select>
                </td>
            </tr>
        </table>
    </uib:tab>

    <uib:tab heading="{{'Custom fields'|translate}}" ng:click="load_custom_config()">

        <br />

        <div class="form-group">
            <div class="col-md-4">
                <label translate>Choose a role to configure</label>
                <select class="form-control" ng:model="custom_fields_role_selector">
                    <option value="students" translate>Students</option>
                    <option value="teachers" translate>Teachers</option>
                    <option value="schooladministrators" translate>School administrators</option>
                    <option value="globaladministrators" translate>Global administrators</option>
                </select>
            </div>
        </div>

        <br />
        <hr />

        <h3 ng:show="custom_fields_role_selector == 'teachers'" translate>Teachers</h3>
        <table class="table" ng:show="custom_fields_role_selector == 'teachers'">
            <tr>
                <th> </th>
                <th translate class="text-center">Title</th>
                <th translate class="text-center">Show in user details</th>
                <th translate class="text-center">User can edit</th>
            </tr>
            <tr>
                <th>Proxy addresses</th>
                <td class="text-center">
                    <input type="text" ng:model="proxyAddresses['teachers']['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['teachers']['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['teachers']['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="n in [1,2,3,4,5]">
                <th>Custom {{n}}</th>
                <td class="text-center">
                    <input type="text" ng:model="custom['teachers'][n]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['teachers'][n]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['teachers'][n]['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="m in [1,2,3,4,5]">
                <th>Custom Multi {{m}}</th>
                <td class="text-center">
                    <input type="text" ng:model="customMulti['teachers'][m]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['teachers'][m]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['teachers'][m]['editable']"></span>
                </td>
            </tr>
        </table>

        <h3 ng:show="custom_fields_role_selector == 'students'" translate>Students</h3>
        <table class="table" ng:show="custom_fields_role_selector == 'students'">
            <tr>
                <th> </th>
                <th translate class="text-center">Title</th>
                <th translate class="text-center">Show in user details</th>
                <th translate class="text-center">User can edit</th>
            </tr>
            <tr>
                <th>Proxy addresses</th>
                <td class="text-center">
                    <input type="text" ng:model="proxyAddresses['students']['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['students']['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['students']['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="n in [1,2,3,4,5]">
                <th>Custom {{n}}</th>
                <td class="text-center">
                    <input type="text" ng:model="custom['students'][n]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['students'][n]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['students'][n]['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="m in [1,2,3,4,5]">
                <th>Custom Multi {{m}}</th>
                <td class="text-center">
                    <input type="text" ng:model="customMulti['students'][m]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['students'][m]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['students'][m]['editable']"></span>
                </td>
            </tr>
        </table>

        <h3 ng:show="custom_fields_role_selector == 'schooladministrators'" translate>School administrators</h3>
        <table class="table" ng:show="custom_fields_role_selector == 'schooladministrators'">
            <tr>
                <th> </th>
                <th translate class="text-center">Title</th>
                <th translate class="text-center">Show in user details</th>
                <th translate class="text-center">User can edit</th>
            </tr>
            <tr>
                <th>Proxy addresses</th>
                <td class="text-center">
                    <input type="text" ng:model="proxyAddresses['schooladministrators']['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['schooladministrators']['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['schooladministrators']['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="n in [1,2,3,4,5]">
                <th>Custom {{n}}</th>
                <td class="text-center">
                    <input type="text" ng:model="custom['schooladministrators'][n]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['schooladministrators'][n]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['schooladministrators'][n]['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="m in [1,2,3,4,5]">
                <th>Custom Multi {{m}}</th>
                <td class="text-center">
                    <input type="text" ng:model="customMulti['schooladministrators'][m]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['schooladministrators'][m]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['schooladministrators'][m]['editable']"></span>
                </td>
            </tr>
        </table>

        <h3 ng:show="custom_fields_role_selector == 'globaladministrators'" translate>Global administrators</h3>
        <table class="table" ng:show="custom_fields_role_selector == 'globaladministrators'">
            <tr>
                <th> </th>
                <th translate class="text-center">Title</th>
                <th translate class="text-center">Show in user details</th>
                <th translate class="text-center">User can edit</th>
            </tr>
            <tr>
                <th>Proxy addresses</th>
                <td class="text-center">
                    <input type="text" ng:model="proxyAddresses['globaladministrators']['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['globaladministrators']['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="proxyAddresses['globaladministrators']['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="n in [1,2,3,4,5]">
                <th>Custom {{n}}</th>
                <td class="text-center">
                    <input type="text" ng:model="custom['globaladministrators'][n]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['globaladministrators'][n]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="custom['globaladministrators'][n]['editable']"></span>
                </td>
            </tr>
            <tr ng:repeat="m in [1,2,3,4,5]">
                <th>Custom Multi {{m}}</th>
                <td class="text-center">
                    <input type="text" ng:model="customMulti['globaladministrators'][m]['title']" class="form-control" />
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['globaladministrators'][m]['show']"></span>
                </td>
                <td class="text-center">
                    <span checkbox ng:model="customMulti['globaladministrators'][m]['editable']"></span>
                </td>
            </tr>
        </table>

        <hr />

        <h3 translate>Which custom values display on user's lists ?</h3>
        <table class="table" ng:show="['teachers', 'students'].indexOf(custom_fields_role_selector) >= 0">
            <tr>
                <th> </th>
                <th translate class="text-center">Teachers</th>
                <th translate class="text-center">Students</th>
            </tr>
            <tr ng:repeat="d in [1,2,3]">
                <th>Custom Display {{d}}</th>
                <td class="text-center">
                    <select class="form-control" ng:model="customDisplay['teachers'][d]" ng:options="x for x in customDisplayOptions" />
                </td>
                <td class="text-center">
                    <select class="form-control" ng:model="customDisplay['students'][d]" ng:options="x for x in customDisplayOptions" />
                </td>
            </tr>
        </table>
        <table class="table" ng:show="['schooladministrators', 'globaladministrators'].indexOf(custom_fields_role_selector) >= 0">
            <tr>
                <th> </th>
                <th translate class="text-center">Global administrators</th>
                <th translate class="text-center">School administrators</th>
            </tr>
            <tr ng:repeat="d in [1,2,3]">
                <th>Custom Display {{d}}</th>
                <td class="text-center">
                    <select class="form-control" ng:model="customDisplay['globaladministrators'][d]" ng:options="x for x in customDisplayOptions" />
                </td>
                <td class="text-center">
                    <select class="form-control" ng:model="customDisplay['schooladministrators'][d]" ng:options="x for x in customDisplayOptions" />
                </td>
            </tr>
        </table>
    </uib:tab>

    <uib:tab heading="{{'Holidays'|translate}}">
       <h3 translate>Configuration of holidays</h3>
        <div class="alert alert-info" ng:show="holidays.length == 0">
            <i class="fa fa-info-circle fa-2x"></i>
            <span translate>No holidays found!</span>
        </div>
        <table class="table" ng:show="holidays">
            <tr>
                <th translate>Name</th>
                <th translate>Start</th>
                <th translate>End</th>
                <th translate> </th>
            </tr>
            <tr ng:repeat="holiday in holidays">
                <td>
                    <input type="text" ng:model-options="{updateOn: 'blur'}" ng:model="holiday.name" placeholder="Name" class="form-control" />
                </td>
                <td ng:class="validateDate(holiday.start)">
                    <input type="text" ng:model-options="{updateOn: 'blur'}" ng:model="holiday.start" placeholder="dd.mm.yyyy" class="form-control" />
                </td>
                <td ng:class="validateDate(holiday.end)">
                    <input type="text" ng:model-options="{updateOn: 'blur'}" ng:model="holiday.end" placeholder="dd.mm.yyyy" class="form-control" />
                </td>
                <td width="1">
                    <button class="btn btn-default" ng:click="removeHoliday(holiday)" title={{trans.remove}}>
                        <i class="fa fa-trash-o"></i>
                    </button>
                </td>
            </tr>
        </table>
        <button class="btn btn-default" ng:click="addHoliday()">
            <i class="fa fa-plus"></i> <span translate>Add holidays</span>
        </button>
    </uib:tab>
    </uib:tabset>

    <div class="floating-toolbar-padder"></div>
    <floating-toolbar>
        <button ng-show="activetab != 4" ng:click="backups()" class="btn btn-lmn pull-right"><i class="fa fa-history"></i></button>
        <button ng-show="activetab == 0" ng:click="saveAndCheck()" class="btn btn-lmn" translate>Save &amp; check</button>
        <button ng-show="activetab == 2" ng:click="saveApplyQuota()" class="btn btn-lmn" translate>Save &amp; Apply Quota</button>
        <button ng-show="activetab < 3" ng:click="save()" class="btn btn-lmn" translate>Save</button>
        <button ng-show="activetab == 3" ng:click="save() && saveCustom()" class="btn btn-lmn" translate>Save</button>
        <button ng-show="activetab == 4" ng:click="saveCustom()" class="btn btn-lmn" translate>Save</button>
        <button ng-show="activetab == 5" ng:click="saveApplyHolidays()" class="btn btn-lmn" translate>Save</button>
    </floating-toolbar>
</div>
